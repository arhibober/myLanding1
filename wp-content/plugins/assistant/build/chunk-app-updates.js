(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{226:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),l=a(0),c=a.n(l),o=a(36),u=a(1),p=a(3),r=a(7),i=a(105),d=a(93);t.default=e=>c.a.createElement(p.App.Config,s()({pages:{default:g,"plugin/:id":p.Page.Plugin,"theme/:id":p.Page.Theme}},e));const g=({handle:e})=>{const t=Object(r.getUpdaterStore)(),{setUpdateQueueItems:a}=Object(r.getUpdaterActions)(),{updatingAll:n,updateType:s,listStyle:g}=Object(r.useAppState)(e),{setUpdatingAll:m,setUpdateType:b,setListStyle:h}=Object(r.getAppActions)(e),{getContent:O}=Object(o.getWpRest)(),{plugins:j,themes:_,total:f,hasUpdates:y}=((e=0)=>{const t=Object(r.getSystemStore)(),[a,n]=Object(l.useState)(e),s=e=>{const{counts:t}=e,a=t["update/plugins"]?t["update/plugins"]:0,n=t["update/themes"]?t["update/themes"]:0;return{plugins:a,themes:n,combined:n+a}};Object(l.useLayoutEffect)((()=>{const{combined:e}=s(t.getState());return n(e),t.subscribe((()=>{const{combined:e}=s(t.getState());a!==e&&n(e)}))}),[]);const{plugins:c,themes:o,combined:u}=s(t.getState());return{total:u,hasUpdates:0<u,plugins:c,themes:o}})(),S=()=>{m(!0),O("updates").then((e=>{const{items:t}=e.data;a(t)})).catch((e=>{console.log(e),m(!1),alert(Object(u.__)("Something went wrong. Please try again."))}))},E=()=>{const{updateQueue:e}=t.getState();Object.values(e).length||m(!1)};Object(l.useEffect)((()=>{E();const e=t.subscribe(E);return()=>e()}),[]);const U=()=>y?n?c.a.createElement(p.Button.Loading,null,Object(u.__)("Updating")):c.a.createElement(p.Button,{onClick:S},Object(u.__)("Update All")):null,w=()=>{const e={all:Object(u.sprintf)("All (%s)",f),plugins:Object(u.sprintf)("Plugin (%s)",j),themes:Object(u.sprintf)("Theme (%s)",_)},t={card:Object(u.__)("Cards"),list:Object(u.__)("Compact")};return c.a.createElement(p.Filter,{isSticky:!0},c.a.createElement(p.Filter.RadioGroupItem,{title:Object(u.__)("Type"),items:e,value:s,defaultValue:i.a.updateType,onChange:e=>b(e)}),c.a.createElement(p.Filter.RadioGroupItem,{title:Object(u.__)("Display As"),items:t,value:g,defaultValue:i.a.listStyle,onChange:e=>h(e)}),c.a.createElement(p.Filter.Button,{onClick:()=>{b(i.a.updateType),h(i.a.listStyle)}},Object(u.__)("Reset Filter")))};return c.a.createElement(p.Page,{title:Object(u.__)("Updates"),icon:c.a.createElement(d.a,null),shouldShowBackButton:!1,actions:c.a.createElement(U,null),padY:!1,shouldScroll:!1},!y&&c.a.createElement(p.Layout.Box,null,Object(u.__)("You have no updates.")),y&&c.a.createElement(p.List.Updates,{updateType:s,getItemProps:(t,a)=>({...a,to:{pathname:`/${e}/${t.type}/${t.id}`,state:{item:t}}}),before:c.a.createElement(w,null),listStyle:g}))}},4:function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,a.apply(this,arguments)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0}}]);